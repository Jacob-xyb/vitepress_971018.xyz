# 游戏租赁管理系统

## 功能说明

这是一个游戏租赁管理页面，用于实时查看和管理游戏租赁状态。

### 主要功能

#### 1. 游戏展示
- **封面图片**：显示游戏封面
- **游戏名称**：中文名和英文名
- **平台标识**：PS5/NS/PC 等平台标签
- **租金价格**：单次租赁价格

#### 2. 状态指示器
使用彩色圆点实时显示游戏状态：
- 🟢 **绿色**：未出租（可租赁）
- 🟠 **橙色**：出租中
- 🔴 **红色**：已超时（需催还）

#### 3. 当前租赁信息
当游戏处于"出租中"或"已超时"状态时，会显示：
- 租借人姓名
- 租借日期
- 预计归还日期

#### 4. 开发模式功能
仅在开发环境下可见（`import.meta.env.DEV === true`）：

##### 财务概览
- **本金**：游戏购买成本
- **总收入**：累计租赁收入
- **净利润**：总收入 - 本金
- **回本进度**：可视化进度条显示回本百分比

##### 租赁历史
- 历史租赁记录列表
- 包含日期、租借人、天数、收入等信息

## 数据管理

### 数据文件位置
`docs/rental/rental-data.js`

### 数据结构

```javascript
{
  id: 1,                          // 游戏唯一标识
  title: '仁王3',                 // 游戏中文名
  titleEn: 'Nioh 3',              // 游戏英文名
  cover: '/gameover/仁王3-v.jpg', // 封面图片路径
  platform: 'PS5',                // 游戏平台
  status: 'available',            // 状态：available/rented/overdue
  cost: 300,                      // 本金（购买成本）
  rentalPrice: 50,                // 单次租金
  
  // 仅当 status 为 rented 或 overdue 时需要
  currentRenter: '王五',          // 当前租借人
  rentDate: '2025-02-05',         // 租借日期
  expectedReturn: '2025-02-12',   // 预计归还日期
  
  // 租赁历史记录
  history: [
    { 
      date: '2025-01-15',         // 租赁日期
      renter: '张三',             // 租借人
      days: 7,                    // 租赁天数
      income: 50                  // 收入
    }
  ]
}
```

### 添加新游戏

1. 打开 `docs/rental/rental-data.js`
2. 在 `rentalGames` 数组中添加新的游戏对象
3. 确保游戏封面图片已放置在 `docs/public/gameover/` 目录

### 更新游戏状态

修改对应游戏对象的 `status` 字段：
- `'available'` - 未出租
- `'rented'` - 出租中
- `'overdue'` - 已超时

### 添加租赁记录

在游戏对象的 `history` 数组中添加新记录。

## 开发模式切换

### 开启开发模式
开发模式会自动根据环境变量判断：
- 本地开发（`npm run dev`）：自动开启
- 生产构建（`npm run build`）：自动关闭

### 手动控制
如需手动控制，修改 `docs/rental/index.md` 中的：
```javascript
const isDev = ref(true)  // 强制开启
const isDev = ref(false) // 强制关闭
```

## 样式定制

所有样式都在 `docs/rental/index.md` 的 `<style scoped>` 标签中，可以根据需要调整：
- 卡片布局
- 颜色主题
- 状态指示器样式
- 响应式断点

## 注意事项

1. **图片路径**：封面图片需放在 `docs/public/` 目录下
2. **数据同步**：当前为静态数据，如需实时更新需接入后端 API
3. **权限控制**：开发模式仅通过环境变量控制，生产环境需要更严格的权限验证
4. **状态更新**：超时状态需要手动或通过定时任务更新
